; =============================================================================
; OPcache Production Configuration for Laravel Octane
; =============================================================================
; Copy this file to your PHP conf.d directory for production deployment
; Example: /etc/php/8.4/cli/conf.d/99-opcache-production.ini
; =============================================================================

[opcache]
; Enable OPcache
opcache.enable=1
opcache.enable_cli=1

; Memory Configuration
opcache.memory_consumption=256
opcache.interned_strings_buffer=64
opcache.max_accelerated_files=20000

; Production Optimizations (CRITICAL)
opcache.validate_timestamps=0
opcache.revalidate_freq=
opcache.enable_file_override=1

; Save comments for annotations (Laravel needs this)
opcache.save_comments=1

; JIT Configuration (PHP 8.0+)
opcache.jit=1255
opcache.jit_buffer_size=128M

; Preloading (uncomment after generating preload script)
; opcache.preload=/var/www/html/preload.php
; opcache.preload_user=www-data

; Performance tuning
opcache.max_wasted_percentage=10
opcache.consistency_checks=0
opcache.huge_code_pages=1
